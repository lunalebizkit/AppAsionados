<div id="ticket">
    <div class="progress mb-3">
        <div class="progress-bar progress-bar-striped bg-success progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%"></div>
    </div>
    <div class="container-fluid">
        <div class="row row-cols-2 pb-5">
            <div class="col-md-4 m-0 mt-3 py-4 pb-5" style="background-color: rgb(255, 255, 255, 0.5);">
                <div class="text-center">
                    <h3>Elige Turno</h3>
                    <button class="btn btn-warning mb-3" id="botonTurnos"
                        onclick="return misTurnos({{turno.horaInicio}}, {{turno.horaFin}})">Ver Turnos</button>
                    <form action="/paginas/reservaDeporte2/{{idCancha}}&fechaSeleccionada" method="POST">
                        <div class="container">
                            <div id="texto" class="row justify-content-around">

                            </div>
                        </div>
                        <button type="submit" class="btn btn-success text-dark">Reservar</button>
                        <div class="col-1 mt-5 py-1">
                            <a id="volver" href="javascript: history.go(-1)" type="button" class="btn btn-outline-danger">Volver</a>
                        </div>
                        <div class="col-1 py-1">
                            <a id="volver" href="/paginas/inicio" type="button" class="btn btn-outline-danger">Salir</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
let tomarParametro = new URLSearchParams(window.location.href);
let fechaSeleccionada = tomarParametro.get('fecha');
let diaActual=  new Date()
function misTurnos(a, b) {        
        const convertirFecha= (fecha)=>{
            let mes= fecha.getMonth()+1;
            if (mes < 10) {
             mes='0' + mes}
            let dia= fecha.getDate();
            if (dia < 10) {
             dia='0' + dia}
            convertirParaComparar= fecha.getFullYear() + "-"+ mes + "-"+ dia;
            return convertirParaComparar
        }
         let horaActual= new Date().getHours()+1;    
         
        for (let i = a; i <= b; i++) {              
            if ((convertirFecha(diaActual) == fechaSeleccionada) & ( horaActual >= i )) {
                continue;
            }    
                
            {{#each reservas }}
          
            if (i == {{ hora }}) {
                document.getElementById("texto").innerHTML += `<div class="col-4 mb-3 m-2 bg-danger"><input type="radio" name="turno" id="" value="${i}" disabled> ${i}:00 Hs</div>`; continue;
            }
            {{/each}}       
            document.getElementById("texto").innerHTML += `<div class="col-4 mb-3 m-2 bg-primary"><input type="radio" name="turno" id="" value="${i}" required> ${i}:00 Hs</div>`;
            }
        }      
let btnTurnos = document.getElementById("botonTurnos");
let disableButton = function () { this.disabled = true; };
btnTurnos.addEventListener('click', disableButton, false);
</script>